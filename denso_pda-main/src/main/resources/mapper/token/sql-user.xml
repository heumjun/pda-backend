<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.denso.pdabackend.token.mapper.UserMapper">
	
	<select id="findByMangerId" parameterType="com.denso.pdabackend.token.dto.UserDto"
        resultType="com.denso.pdabackend.token.dto.UserDto">

        SELECT 
            tra_id user_id
            ,tra_pw password
            ,tra_name username
            ,tra_phone tel
            ,tra_entdt entdt
            ,tra_jan jan
            ,'ADMIN_ROLE' role
            ,tra_id no
        FROM tb_trainer
        WHERE tra_jan = #{jan}
          and tra_id = #{userId}
          and tra_taedt is null

    </select>
	
</mapper> 